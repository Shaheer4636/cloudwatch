{"title":".NET runtime metrics","description":"This dashboard provides high-level resource metrics for the .NET runtime, including different forms of CPU and memory utilization.\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":3470131927455166,"definition":{"title":".NET process CPU usage","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.cpu.user{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"user time"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.cpu.system{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"system time"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"on_right_yaxis":true,"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.cpu.percent{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"cpu usage"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"right_yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6416118823193672,"definition":{"title":".NET process memory usage","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.mem.committed{$env,$service,$host,$runtime-id,$primaryTag}"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":7626805953112668,"definition":{"title":"First chance exceptions","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:runtime.dotnet.exceptions.count{$env,$service,$host,$runtime-id,$primaryTag} by {exception_type}.as_count()"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":489970845770750,"definition":{"title":"Threads count","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.threads.count{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"Threads"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.threads.workers_count{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"Threadpool workers"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6157975958447280,"definition":{"title":"GC collections count","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.count.gen0{$env,$service,$host,$runtime-id,$primaryTag}.as_count()"}],"formulas":[{"formula":"query1","alias":"gen0"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.count.gen1{$env,$service,$host,$runtime-id,$primaryTag}.as_count()"}],"formulas":[{"formula":"query1","alias":"gen1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.count.gen2{compacting_gc:false,$env,$service,$host,$primaryTag}.as_count()"}],"formulas":[{"formula":"query1","alias":"background gen2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.count.gen2{compacting_gc:true,$env,$service,$host,$primaryTag}.as_count()"}],"formulas":[{"formula":"query1","alias":"foreground gen2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.count.gen2{(NOT (compacting_gc:false OR compacting_gc:true)) AND $env AND $service AND $host AND $primaryTag}.as_count()"}],"formulas":[{"formula":"query1","alias":"gen2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4886210010449672,"definition":{"title":"GC pause time","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.pause_time.median{$env,$service,$host,$runtime-id,$primaryTag}"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.pause_time.max{$env,$service,$host,$runtime-id,$primaryTag}"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":6770787041320934,"definition":{"title":"GC heap size","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.size.gen0{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"gen0"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.size.gen1{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"gen1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.size.gen2{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"gen2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.size.loh{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"loh"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":3287302268233960,"definition":{"title":"Memory load","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.gc.memory_load{$env,$service,$host,$runtime-id,$primaryTag}"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"max":"100"},"markers":[{"label":" High memory load ","value":"y = 90","display_type":"error solid"},{"value":"y = 85","display_type":"warning dashed"}]}},{"id":2802227855394242,"definition":{"title":"Contention time","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.threads.contention_time{$env,$service,$host,$runtime-id,$primaryTag}"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4041170431115078,"definition":{"title":"Contention count","show_legend":true,"legend_size":"0","legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.threads.contention_count{$env,$service,$host,$runtime-id,$primaryTag}.as_count()"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":5760013354781662,"definition":{"title":"ASP.NET Core","type":"group","layout_type":"ordered","widgets":[{"id":6966838297853428,"definition":{"title":"Requests","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.requests.total{$env,$service,$host,$runtime-id,$primaryTag}.rollup(10)"}],"formulas":[{"formula":"per_second(query1)","alias":"Total per second"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"on_right_yaxis":false,"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.requests.failed{$env,$service,$host,$runtime-id,$primaryTag}.rollup(10)"}],"formulas":[{"formula":"per_second(query1)","alias":"Failed per second"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.requests.current{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"Current"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.requests.queue_length{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"Queue-length"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":2271287020437686,"definition":{"title":"Connections","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.connections.total{$env,$service,$host,$runtime-id,$primaryTag}.rollup(10)"}],"formulas":[{"formula":"per_second(query1)","alias":"Total per second"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.connections.current{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"Current"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:runtime.dotnet.aspnetcore.connections.queue_length{$env,$service,$host,$runtime-id,$primaryTag}"}],"formulas":[{"formula":"query1","alias":"Queue length"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}}]}}],"template_variables":[{"name":"env","prefix":"env","available_values":[],"default":"*"},{"name":"service","prefix":"service","available_values":[],"default":"*"},{"name":"host","prefix":"host","available_values":[],"default":"*"},{"name":"runtime-id","prefix":"runtime-id","available_values":[],"default":"*"},{"name":"primaryTag","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"auto"}
